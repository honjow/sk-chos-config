# SK-SteamOS-for-AYANEO-GEEK&AirPlus

## 介绍

这是一个基于 HoloISO 镜像制作的 SteamOS 系统，理论适用于大多数 AMD 平台的掌机，但是本人手头只有 AYANEO Geek 和 Air Plus，所以只测试了这两个机型。其他机型请自行测试。Rog Ally 目前正在适配中。

### 特点

- 默认只做单系统镜像，有双系统需求的可以通过分区克隆的方式处理。镜像为 DiskGenius 格式，可以直接使用DiskGenius还原到磁盘或者分区。需要进行分区克隆需要先用 DiskGenius 将 pmfx 磁盘镜像文件转为 vmdk 或者 vhd 格式，然后才克隆
- 默认启用一个32G的Swap分区，作为虚拟内存和休眠的支持
- 通过修改睡眠配置参数，使默认睡眠行为都以休眠来实现，解决一些睡眠bug，同时也能降低功耗。但是缺点就是休眠和恢复的耗时比较长。休眠和睡眠可以通过内置的 SK SteamOS 配置工具来切换。
- 内置 SK SteamOS 工具，可以方便的修改系统配置，安装一些特定插件等。以及会伴随一些修复更新。
- 游戏模显示设置中有缩放设置，如果觉得缩放不合适，可以自行调整

## 镜像发布

下载链接: [https://pan.baidu.com/s/1W2jIySkrEuqlpixlZ00rtA?pwd=aabb](https://pan.baidu.com/s/1W2jIySkrEuqlpixlZ00rtA?pwd=aabb)

### 1.7

1.7 版本因为更新范围较大，不再单独提供root分区镜像升级。

- 更新系统软件包到beta源最新版本，因为更新涉及的软件包较多，所以不保证稳定性
- 更新内核到6.1.29 版本，可能会影响部分设备的兼容性
- 初步添加Rog Ally 支持，但目前问题较多，下面会详细列出
- 更新最新 Proton-GE 8.6
- 默认安装了使用一些主题样式，不喜欢可自行修改

#### Rog Ally 支持说明

- 休眠、或者睡眠唤醒之后，声音会失效，需要重启系统才能恢复
- 音量偏小，拉满大概只有Win下25%的音量
- 可能偶尔会有 wifi 不识别的情况，需要按住电源键强制重启系统才能恢复
- 按键工作都基本正常
- 正常使用HandyGCCS驱动映射home键和快捷菜单键，左边的作为home键，右边的作为快捷菜单键。但因为home键自身按键逻辑，不能模拟按住home键的效果，所以无法使用home键组合键
- 摇杆灯光没有直接的控制方案，请在windows下调整
- 默认策略依然是休眠，休眠速度很快
- 系统功耗调度有严重问题，在降低GPU频率后依然无法正常降低功耗，导致在限制TDP的时候，功耗都被GPU抢走，CPU只能工作在较低频率，导致性能严重下降。目前还无法判断是驱动问题还是调度插件问题，需要等待插件上游更新，后续继续测试。
  
因此目前很不适合用来玩大型游戏。效果相比windos差距还很大

### 1.5

- 更新 Mesa 显卡驱动 到 23.1.2 ，使用 Arch 官方源版本。或许能让7840u正常进入系统
- 更新 linux-firmware

#### 更新说明

如果不是 7840U 可以忽略这个更新

如果需要更新显卡驱动的，先更新最新 sk SteamOS 配置工具。在里面更新即可

1.5 同样只提供root分区镜像，全新安装需要先安装1.3完整包，然后使用DiskGenius还原分区镜像到root分区（32G分区左边20G那个）即可。如果有设置挂载共享分区的，需要重新设置

### 1.4

- 更新 jupiter-hw-support ，解决插内存卡启动时，容易长时间卡在引导的问题
- 内置了 sk SteamOS 配置工具
- 修正了一些问题

#### 更新方式

1.4 默认只提供root分区镜像，需要从1.3升级。使用DiskGenius还原分区镜像到root分区即可。如果有设置挂载共享分区的，需要重新设置

### 1.3

- 使⽤stable源构建镜像，或许兼容性好⼀点
- 安装少量必要应⽤
- 安装decky插件平台和部分插件
- 安装GE-Proton 8.4
- 默认启⽤HandyGCCS驱动⼿柄按键
- 使⽤dsdt补丁处理 Air Plus 按键驱动问题
- 默认关闭Air Plus 摇杆灯（颜⾊还没法控制）
- 默认为休眠
- 现存问题：GEEK休眠后唤醒触屏会失效
