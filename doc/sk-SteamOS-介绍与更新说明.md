# SK-SteamOS-介绍与更新说明

## 介绍

这是一个基于 HoloISO 镜像制作的 SteamOS 系统，理论适用于大多数 AMD 平台的掌机。

### 特点

- 默认只做单系统镜像，有双系统需求的可以通过分区克隆的方式处理。镜像为 DiskGenius 格式，可以直接使用DiskGenius还原到磁盘或者分区。需要进行分区克隆需要先用 DiskGenius 将 pmfx 磁盘镜像文件转为 vmdk 或者 vhd 格式，然后才克隆
- 默认启用一个32G的Swap分区，作为虚拟内存和休眠的支持
- 通过修改睡眠配置参数，使默认睡眠行为都以休眠来实现，解决一些睡眠bug，同时也能降低功耗。但是缺点就是休眠和恢复的耗时比较长。休眠和睡眠可以通过内置的 SK SteamOS 配置工具来切换。
- 内置 SK SteamOS 工具，可以方便的修改系统配置，安装一些特定插件等。以及会伴随一些修复更新。
- 游戏模显示设置中有缩放设置，如果觉得缩放不合适，可以自行调整

## 镜像发布

下载链接: [https://pan.baidu.com/s/1W2jIySkrEuqlpixlZ00rtA?pwd=aabb](https://pan.baidu.com/s/1W2jIySkrEuqlpixlZ00rtA?pwd=aabb)

### 2.0

#### 2.0热更新

热更新是指不需要重新安装2.0系统，只需要更新一些系统文件即可。新安装的系统请按照以下步骤进行依次更新
热更新可能会不断添加

- 修正部分设备的旋转问题，和gamescope的问题等， 请使用控制台或者ssh执行 `yay -Syy holo-gs-auto-update && yay -Syy gamescope-holoiso` 进行更新

#### 2.0特点

- 基于最新 HoloISO 5 进行制作，因为变动较大，不再支持单独更新root分区
- 使用 chimeraos 最新 6.5 内核，修正了很多设备相关的问题
- 改用 Timeshift 进行系统快照管理，自带图形界面，可以方便的进行系统回滚
- 安装 steam-patch 工具，可以直接使用steam内置的功耗控制条来调整TDP,未适配的上限为25W
- 修正 7840U 和 Z1E 的 GPU 调度问题，现在游戏性能没问题了
- 预装 HandyGCCS, 驱动手柄
- 不再预装 Proton-GE 兼容层，大家用工具自己安装吧
- 不再预装 PowerControl ，调整 TDP 的话，用steam-patch就可以了，如果有风扇控制需求，可以自己安装
- 预装了一些常用的软件

#### 2.0特别说明

- Rog Ally 使用 HandyGCCS 有时会碰到一些问题，建议 Rog Ally 直接停用 HandyGCCS。home键和快捷菜单键已经通过 steam-patch 映射好了，不需要再额外设置。停用 HandyGCCS 的方法是在终端执行 `sudo systemctl disable --now handycon`，然后重启系统即可
- 依然预装 Sk-holoiso 配置工具。后续的小调整小修正会通过这个工具的更新附带完成。计划增加 chimeraos 内核的更新，steam-patch 的安装更新等。
- 目前测试 7840u的机型和 Rog Ally,睡眠都存在问题，休眠则正常多。所以依然默认使用休眠方式。可以通过配置工具切换
- Rog Ally 安装 PowerControl 可能会导致休眠不能正常进行。目前不要装

### 1.7

1.7 版本因为更新范围较大，不再单独提供root分区镜像升级。

- 更新系统软件包到beta源最新版本，因为更新涉及的软件包较多，所以不保证稳定性
- 更新内核到6.1.29 版本，可能会影响部分设备的兼容性
- 初步添加Rog Ally 支持，但目前问题较多，下面会详细列出
- 更新最新 Proton-GE 8.6
- 默认安装了使用一些主题样式，不喜欢可自行修改

#### Rog Ally 支持说明

- 休眠、或者睡眠唤醒之后，声音会失效，需要重启系统才能恢复
- 音量偏小，拉满大概只有Win下25%的音量
- 可能偶尔会有 wifi 不识别的情况，需要按住电源键强制重启系统才能恢复
- 按键工作都基本正常
- 正常使用HandyGCCS驱动映射home键和快捷菜单键，左边的作为home键，右边的作为快捷菜单键。但因为home键自身按键逻辑，不能模拟按住home键的效果，所以无法使用home键组合键
- 摇杆灯光没有直接的控制方案，请在windows下调整
- 默认策略依然是休眠，休眠速度很快
- 系统功耗调度有严重问题，在降低GPU频率后依然无法正常降低功耗，导致在限制TDP的时候，功耗都被GPU抢走，CPU只能工作在较低频率，导致性能严重下降。目前还无法判断是驱动问题还是调度插件问题，需要等待插件上游更新，后续继续测试。
  
因此目前很不适合用来玩大型游戏。效果相比windos差距还很大

### 1.5

- 更新 Mesa 显卡驱动 到 23.1.2 ，使用 Arch 官方源版本。或许能让7840u正常进入系统
- 更新 linux-firmware

#### 更新说明

如果不是 7840U 可以忽略这个更新

如果需要更新显卡驱动的，先更新最新 sk SteamOS 配置工具。在里面更新即可

1.5 同样只提供root分区镜像，全新安装需要先安装1.3完整包，然后使用DiskGenius还原分区镜像到root分区（32G分区左边20G那个）即可。如果有设置挂载共享分区的，需要重新设置

### 1.4

- 更新 jupiter-hw-support ，解决插内存卡启动时，容易长时间卡在引导的问题
- 内置了 sk SteamOS 配置工具
- 修正了一些问题

#### 更新方式

1.4 默认只提供root分区镜像，需要从1.3升级。使用DiskGenius还原分区镜像到root分区即可。如果有设置挂载共享分区的，需要重新设置

### 1.3

- 使⽤stable源构建镜像，或许兼容性好⼀点
- 安装少量必要应⽤
- 安装decky插件平台和部分插件
- 安装GE-Proton 8.4
- 默认启⽤HandyGCCS驱动⼿柄按键
- 使⽤dsdt补丁处理 Air Plus 按键驱动问题
- 默认关闭Air Plus 摇杆灯（颜⾊还没法控制）
- 默认为休眠
- 现存问题：GEEK休眠后唤醒触屏会失效
